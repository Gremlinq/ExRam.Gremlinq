"g.V().filter(__.in()).filter(__.out()).filter(__.properties()).project('in!','out!','count!','properties!').by(__.in()).by(__.out()).by(__.count()).by(__.properties()).project('in!','out!','count!','properties!').by(__.select('in!').map(__.union(__.project('id','label').by(id).by(label).unfold(),__.properties().has(key,neq('id').and(neq('label'))).group().by(label).by(__.project('id','label','value','properties').by(id).by(label).by(value).by(__.valueMap()).fold()).unfold()).group().by(__.select(keys)).by(__.select(values)))).by(__.select('out!').map(__.union(__.project('id','label').by(id).by(label).unfold(),__.properties().has(key,neq('id').and(neq('label'))).group().by(label).by(__.project('id','label','value','properties').by(id).by(label).by(value).by(__.valueMap()).fold()).unfold()).group().by(__.select(keys)).by(__.select(values)))).by(__.select('count!')).by(__.select('properties!').project('id','label','value','properties').by(id).by(label).by(value).by(__.valueMap()))"